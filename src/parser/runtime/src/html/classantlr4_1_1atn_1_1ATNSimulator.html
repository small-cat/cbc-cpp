<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: antlr4::atn::ATNSimulator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>antlr4</b></li><li class="navelem"><b>atn</b></li><li class="navelem"><a class="el" href="classantlr4_1_1atn_1_1ATNSimulator.html">ATNSimulator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classantlr4_1_1atn_1_1ATNSimulator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">antlr4::atn::ATNSimulator Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for antlr4::atn::ATNSimulator:</div>
<div class="dyncontent">
<div class="center"><img src="classantlr4_1_1atn_1_1ATNSimulator__inherit__graph.png" border="0" usemap="#antlr4_1_1atn_1_1ATNSimulator_inherit__map" alt="Inheritance graph"/></div>
<map name="antlr4_1_1atn_1_1ATNSimulator_inherit__map" id="antlr4_1_1atn_1_1ATNSimulator_inherit__map">
<area shape="rect" id="node2" href="classantlr4_1_1atn_1_1ParserATNSimulator.html" title="antlr4::atn::ParserATNSimulator" alt="" coords="10,80,218,107"/>
<area shape="rect" id="node3" href="classantlr4_1_1atn_1_1ProfilingATNSimulator.html" title="antlr4::atn::ProfilingATNSimulator" alt="" coords="5,155,223,181"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for antlr4::atn::ATNSimulator:</div>
<div class="dyncontent">
<div class="center"><img src="classantlr4_1_1atn_1_1ATNSimulator__coll__graph.png" border="0" usemap="#antlr4_1_1atn_1_1ATNSimulator_coll__map" alt="Collaboration graph"/></div>
<map name="antlr4_1_1atn_1_1ATNSimulator_coll__map" id="antlr4_1_1atn_1_1ATNSimulator_coll__map">
<area shape="rect" id="node2" href="classantlrcpp_1_1SingleWriteMultipleReadLock.html" title="antlrcpp::SingleWriteMultiple\lReadLock" alt="" coords="5,5,193,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aea00369023c5b32d3b73e9e4b2726cbe"><td class="memItemLeft" align="right" valign="top"><a id="aea00369023c5b32d3b73e9e4b2726cbe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ATNSimulator</b> (const ATN &amp;atn, PredictionContextCache &amp;sharedContextCache)</td></tr>
<tr class="separator:aea00369023c5b32d3b73e9e4b2726cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282a76fb17fd8529c48e695b4dc5134c"><td class="memItemLeft" align="right" valign="top"><a id="a282a76fb17fd8529c48e695b4dc5134c"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>reset</b> ()=0</td></tr>
<tr class="separator:a282a76fb17fd8529c48e695b4dc5134c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3358fa3e8ebcb4abeeceb914b0b07f10"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classantlr4_1_1atn_1_1ATNSimulator.html#a3358fa3e8ebcb4abeeceb914b0b07f10">clearDFA</a> ()</td></tr>
<tr class="separator:a3358fa3e8ebcb4abeeceb914b0b07f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a112cafa9554cff202c037672ddc918e5"><td class="memItemLeft" align="right" valign="top"><a id="a112cafa9554cff202c037672ddc918e5"></a>
virtual PredictionContextCache &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getSharedContextCache</b> ()</td></tr>
<tr class="separator:a112cafa9554cff202c037672ddc918e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fb144eaf79bf6052a0abe290f7a3a2"><td class="memItemLeft" align="right" valign="top"><a id="aa4fb144eaf79bf6052a0abe290f7a3a2"></a>
virtual Ref&lt; <a class="el" href="classantlr4_1_1atn_1_1PredictionContext.html">PredictionContext</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getCachedContext</b> (Ref&lt; <a class="el" href="classantlr4_1_1atn_1_1PredictionContext.html">PredictionContext</a> &gt; const &amp;context)</td></tr>
<tr class="separator:aa4fb144eaf79bf6052a0abe290f7a3a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae516df637ee1f4be4787d533ed88b3b9"><td class="memItemLeft" align="right" valign="top">static ATN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classantlr4_1_1atn_1_1ATNSimulator.html#ae516df637ee1f4be4787d533ed88b3b9">deserialize</a> (const std::vector&lt; uint16_t &gt; &amp;data)</td></tr>
<tr class="separator:ae516df637ee1f4be4787d533ed88b3b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa827be017f3bf3a431ef91972d38e3d1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classantlr4_1_1atn_1_1ATNSimulator.html#aa827be017f3bf3a431ef91972d38e3d1">checkCondition</a> (bool condition)</td></tr>
<tr class="separator:aa827be017f3bf3a431ef91972d38e3d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394cdeb1e2d6028bc73e0f1d22830b3d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classantlr4_1_1atn_1_1ATNSimulator.html#a394cdeb1e2d6028bc73e0f1d22830b3d">checkCondition</a> (bool condition, const std::string &amp;message)</td></tr>
<tr class="separator:a394cdeb1e2d6028bc73e0f1d22830b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3fc8caefaecf90ac5eb45561aafdcc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classantlr4_1_1atn_1_1Transition.html">Transition</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classantlr4_1_1atn_1_1ATNSimulator.html#a8e3fc8caefaecf90ac5eb45561aafdcc">edgeFactory</a> (const ATN &amp;atn, int type, int src, int trg, int arg1, int arg2, int arg3, const std::vector&lt; <a class="el" href="classantlr4_1_1misc_1_1IntervalSet.html">misc::IntervalSet</a> &gt; &amp;sets)</td></tr>
<tr class="separator:a8e3fc8caefaecf90ac5eb45561aafdcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57878604b6496cc6aa80e29811e05660"><td class="memItemLeft" align="right" valign="top">static ATNState *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classantlr4_1_1atn_1_1ATNSimulator.html#a57878604b6496cc6aa80e29811e05660">stateFactory</a> (int type, int ruleIndex)</td></tr>
<tr class="separator:a57878604b6496cc6aa80e29811e05660"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:afec8e232a4c11c864ecc770252a2bcb6"><td class="memItemLeft" align="right" valign="top"><a id="afec8e232a4c11c864ecc770252a2bcb6"></a>
const ATN &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>atn</b></td></tr>
<tr class="separator:afec8e232a4c11c864ecc770252a2bcb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a1a88e9a52986711b319268c6e6faf6c6"><td class="memItemLeft" align="right" valign="top"><a id="a1a88e9a52986711b319268c6e6faf6c6"></a>
static const Ref&lt; dfa::DFAState &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classantlr4_1_1atn_1_1ATNSimulator.html#a1a88e9a52986711b319268c6e6faf6c6">ERROR</a> = std::make_shared&lt;DFAState&gt;(INT32_MAX)</td></tr>
<tr class="memdesc:a1a88e9a52986711b319268c6e6faf6c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Must distinguish between missing edge and edge we know leads nowhere. <br /></td></tr>
<tr class="separator:a1a88e9a52986711b319268c6e6faf6c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a73bf77d58d1457cc0543600da3201bea"><td class="memItemLeft" align="right" valign="top">PredictionContextCache &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classantlr4_1_1atn_1_1ATNSimulator.html#a73bf77d58d1457cc0543600da3201bea">_sharedContextCache</a></td></tr>
<tr class="memdesc:a73bf77d58d1457cc0543600da3201bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">The context cache maps all <a class="el" href="classantlr4_1_1atn_1_1PredictionContext.html">PredictionContext</a> objects that are equals() to a single cached copy. This cache is shared across all contexts in all ATNConfigs in all DFA states. We rebuild each <a class="el" href="classantlr4_1_1atn_1_1ATNConfigSet.html">ATNConfigSet</a> to use only cached nodes/graphs in addDFAState(). We don't want to fill this during closure() since there are lots of contexts that pop up but are not used ever again. It also greatly slows down closure(). This cache makes a huge difference in memory and a little bit in speed. For the Java grammar on java.*, it dropped the memory requirements at the end from 25M to 16M. We don't store any of the full context graphs in the DFA because they are limited to local context only, but apparently there's a lot of repetition there as well. We optimize the config contexts before storing the config set in the DFA states by literally rebuilding them with cached subgraphs only. I tried a cache for use during closure operations, that was whacked after each adaptivePredict(). It cost a little bit more time I think and doesn't save on the overall footprint so it's not worth the complexity.  <a href="#a73bf77d58d1457cc0543600da3201bea">More...</a><br /></td></tr>
<tr class="separator:a73bf77d58d1457cc0543600da3201bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a0ceff3caefbd8f9067c549fdf60e973b"><td class="memItemLeft" align="right" valign="top"><a id="a0ceff3caefbd8f9067c549fdf60e973b"></a>
static <a class="el" href="classantlrcpp_1_1SingleWriteMultipleReadLock.html">antlrcpp::SingleWriteMultipleReadLock</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_stateLock</b></td></tr>
<tr class="separator:a0ceff3caefbd8f9067c549fdf60e973b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c0921267abe8227f51aa4f1201a82a"><td class="memItemLeft" align="right" valign="top"><a id="ab3c0921267abe8227f51aa4f1201a82a"></a>
static <a class="el" href="classantlrcpp_1_1SingleWriteMultipleReadLock.html">antlrcpp::SingleWriteMultipleReadLock</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_edgeLock</b></td></tr>
<tr class="separator:ab3c0921267abe8227f51aa4f1201a82a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa827be017f3bf3a431ef91972d38e3d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa827be017f3bf3a431ef91972d38e3d1">&#9670;&nbsp;</a></span>checkCondition() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ATNSimulator::checkCondition </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>condition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>Use <dl class="section see"><dt>See also</dt><dd>ATNDeserializer::checkCondition(boolean)</dd></dl>
instead. </dd></dl>

</div>
</div>
<a id="a394cdeb1e2d6028bc73e0f1d22830b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a394cdeb1e2d6028bc73e0f1d22830b3d">&#9670;&nbsp;</a></span>checkCondition() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ATNSimulator::checkCondition </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd>Use <dl class="section see"><dt>See also</dt><dd>ATNDeserializer::checkCondition(boolean, String)</dd></dl>
instead. </dd></dl>

</div>
</div>
<a id="a3358fa3e8ebcb4abeeceb914b0b07f10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3358fa3e8ebcb4abeeceb914b0b07f10">&#9670;&nbsp;</a></span>clearDFA()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ATNSimulator::clearDFA </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clear the DFA cache used by the current instance. Since the DFA cache may be shared by multiple ATN simulators, this method may affect the performance (but not accuracy) of other parsers which are being used concurrently.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classantlr4_1_1UnsupportedOperationException.html">UnsupportedOperationException</a></td><td>if the current instance does not support clearing the DFA.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.3 </dd></dl>

<p>Reimplemented in <a class="el" href="classantlr4_1_1atn_1_1ParserATNSimulator.html#a846da7dc607b212d443cb401f5830bae">antlr4::atn::ParserATNSimulator</a>.</p>

</div>
</div>
<a id="ae516df637ee1f4be4787d533ed88b3b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae516df637ee1f4be4787d533ed88b3b9">&#9670;&nbsp;</a></span>deserialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ATN ATNSimulator::deserialize </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; uint16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>Use <dl class="section see"><dt>See also</dt><dd>ATNDeserializer::deserialize</dd></dl>
instead. </dd></dl>

</div>
</div>
<a id="a8e3fc8caefaecf90ac5eb45561aafdcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e3fc8caefaecf90ac5eb45561aafdcc">&#9670;&nbsp;</a></span>edgeFactory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classantlr4_1_1atn_1_1Transition.html">Transition</a> * ATNSimulator::edgeFactory </td>
          <td>(</td>
          <td class="paramtype">const ATN &amp;&#160;</td>
          <td class="paramname"><em>atn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>arg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>arg2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>arg3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classantlr4_1_1misc_1_1IntervalSet.html">misc::IntervalSet</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd>Use <dl class="section see"><dt>See also</dt><dd>ATNDeserializer::edgeFactory</dd></dl>
instead. </dd></dl>

</div>
</div>
<a id="a57878604b6496cc6aa80e29811e05660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57878604b6496cc6aa80e29811e05660">&#9670;&nbsp;</a></span>stateFactory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ATNState * ATNSimulator::stateFactory </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ruleIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated:</a></b></dt><dd>Use <dl class="section see"><dt>See also</dt><dd>ATNDeserializer::stateFactory</dd></dl>
instead. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a73bf77d58d1457cc0543600da3201bea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73bf77d58d1457cc0543600da3201bea">&#9670;&nbsp;</a></span>_sharedContextCache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PredictionContextCache&amp; antlr4::atn::ATNSimulator::_sharedContextCache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The context cache maps all <a class="el" href="classantlr4_1_1atn_1_1PredictionContext.html">PredictionContext</a> objects that are equals() to a single cached copy. This cache is shared across all contexts in all ATNConfigs in all DFA states. We rebuild each <a class="el" href="classantlr4_1_1atn_1_1ATNConfigSet.html">ATNConfigSet</a> to use only cached nodes/graphs in addDFAState(). We don't want to fill this during closure() since there are lots of contexts that pop up but are not used ever again. It also greatly slows down closure(). This cache makes a huge difference in memory and a little bit in speed. For the Java grammar on java.*, it dropped the memory requirements at the end from 25M to 16M. We don't store any of the full context graphs in the DFA because they are limited to local context only, but apparently there's a lot of repetition there as well. We optimize the config contexts before storing the config set in the DFA states by literally rebuilding them with cached subgraphs only. I tried a cache for use during closure operations, that was whacked after each adaptivePredict(). It cost a little bit more time I think and doesn't save on the overall footprint so it's not worth the complexity. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>atn/<a class="el" href="ATNSimulator_8h_source.html">ATNSimulator.h</a></li>
<li>atn/ATNSimulator.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
